{
  "id": "C1T04",
  "version": "1.0.0",
  "title": "Poids & IMC",
  "description": "Évaluation du poids et calcul automatique de l'IMC avec classification et conditions associées",
  "category": "anthropometric_data",
  "column": 1,
  "table": 4,
  "metadata": {
    "created": "2025-01-05",
    "updated": "2025-01-05",
    "author": "Système d'évaluation clinique",
    "language": "fr-CA"
  },
  "elements": [
    {
      "id": "C1T04E01",
      "type": "number",
      "label": "Taille",
      "description": "Taille du patient",
      "required": true,
      "validation": {
        "min": 0.5,
        "max": 2.5,
        "step": 0.01,
        "unit": "m"
      },
      "unit_options": [
        {
          "unit": "m",
          "label": "Mètres",
          "min": 0.5,
          "max": 2.5,
          "step": 0.01
        },
        {
          "unit": "ft",
          "label": "Pieds/Pouces",
          "min": 1.5,
          "max": 8.0,
          "step": 0.1
        }
      ],
      "ui": {
        "component": "NumericInput",
        "placeholder": "1.75",
        "help": "Entrez la taille du patient",
        "tooltip": "Taille en mètres ou pieds/pouces"
      },
      "routes": []
    },
    {
      "id": "C1T04E02",
      "type": "number",
      "label": "Poids",
      "description": "Poids du patient",
      "required": true,
      "validation": {
        "min": 10,
        "max": 300,
        "step": 0.1,
        "unit": "kg"
      },
      "unit_options": [
        {
          "unit": "kg",
          "label": "Kilogrammes",
          "min": 10,
          "max": 300,
          "step": 0.1
        },
        {
          "unit": "lb",
          "label": "Livres",
          "min": 22,
          "max": 660,
          "step": 0.1
        }
      ],
      "ui": {
        "component": "NumericInput",
        "placeholder": "70.5",
        "help": "Entrez le poids du patient",
        "tooltip": "Poids en kilogrammes ou livres"
      },
      "routes": []
    },
    {
      "id": "C1T04E03",
      "type": "calculated",
      "label": "IMC calculé",
      "description": "Indice de masse corporelle calculé automatiquement",
      "required": false,
      "formula": "poids / (taille^2)",
      "validation": {
        "min": 10,
        "max": 60,
        "step": 0.1,
        "unit": "kg/m²"
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "{value} kg/m²",
        "help": "IMC calculé automatiquement",
        "tooltip": "Indice de masse corporelle = poids / (taille²)"
      },
      "routes": []
    },
    {
      "id": "C1T04E04",
      "type": "calculated",
      "label": "Poids insuffisant",
      "description": "IMC < 18,5",
      "required": false,
      "bmi_category": "underweight",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "lt",
          "value": 18.5
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC < 18,5",
        "color": "#FF9800",
        "help": "Classification automatique",
        "tooltip": "Poids insuffisant selon l'OMS"
      },
      "routes": []
    },
    {
      "id": "C1T04E05",
      "type": "calculated",
      "label": "Poids normal",
      "description": "IMC 18,5 – 24,9",
      "required": false,
      "bmi_category": "normal",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 18.5
        },
        "and": {
          "var": "C1T04E03",
          "operator": "lte",
          "value": 24.9
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC 18,5 – 24,9",
        "color": "#4CAF50",
        "help": "Classification automatique",
        "tooltip": "Poids normal selon l'OMS"
      },
      "routes": []
    },
    {
      "id": "C1T04E06",
      "type": "calculated",
      "label": "Excès de poids",
      "description": "IMC 25,0 – 29,9",
      "required": false,
      "bmi_category": "overweight",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 25.0
        },
        "and": {
          "var": "C1T04E03",
          "operator": "lte",
          "value": 29.9
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC 25,0 – 29,9",
        "color": "#FF9800",
        "help": "Classification automatique",
        "tooltip": "Excès de poids selon l'OMS"
      },
      "routes": []
    },
    {
      "id": "C1T04E07",
      "type": "calculated",
      "label": "Obésité, classe I",
      "description": "IMC 30,0 – 34,9",
      "required": false,
      "bmi_category": "obesity_class1",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 30.0
        },
        "and": {
          "var": "C1T04E03",
          "operator": "lte",
          "value": 34.9
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC 30,0 – 34,9",
        "color": "#F44336",
        "help": "Classification automatique",
        "tooltip": "Obésité classe I selon l'OMS"
      },
      "routes": []
    },
    {
      "id": "C1T04E08",
      "type": "calculated",
      "label": "Obésité, classe II",
      "description": "IMC 35,0 – 39,9",
      "required": false,
      "bmi_category": "obesity_class2",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 35.0
        },
        "and": {
          "var": "C1T04E03",
          "operator": "lte",
          "value": 39.9
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC 35,0 – 39,9",
        "color": "#F44336",
        "help": "Classification automatique",
        "tooltip": "Obésité classe II selon l'OMS"
      },
      "routes": []
    },
    {
      "id": "C1T04E09",
      "type": "calculated",
      "label": "Obésité, classe III",
      "description": "IMC ≥ 40,0",
      "required": false,
      "bmi_category": "obesity_class3",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 40.0
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC ≥ 40,0",
        "color": "#9C27B0",
        "help": "Classification automatique",
        "tooltip": "Obésité classe III (morbide) selon l'OMS"
      },
      "routes": []
    },
    {
      "id": "C1T04E10",
      "type": "single_choice",
      "label": "Condition de poids",
      "description": "Sélectionnez la condition appropriée du patient",
      "required": false,
      "options": [
        {
          "value": "none",
          "label": "Aucune condition spécifique"
        },
        {
          "value": "obesity",
          "label": "Obésité"
        },
        {
          "value": "cachexia",
          "label": "Cachexie"
        }
      ],
      "ui": {
        "component": "RadioGroup",
        "help": "Sélectionnez la condition de poids du patient",
        "tooltip": "Condition d'obésité clinique ou de cachexie"
      },
      "routes": []
    }
  ],
  "validation_rules": {
    "required_fields": ["C1T04E01", "C1T04E02"],
    "numeric_validation": {
      "taille": {
        "min": 0.5,
        "max": 2.5,
        "unit": "m"
      },
      "poids": {
        "min": 10,
        "max": 300,
        "unit": "kg"
      }
    },
    "bmi_calculation": {
      "formula": "poids / (taille^2)",
      "rounding": 1,
      "unit": "kg/m²"
    },
    "conditional_selection": {
      "C1T04E10": {
        "type": "single_choice",
        "required": false,
        "mutually_exclusive": true,
        "options": ["none", "obesity", "cachexia"]
      }
    }
  },
  "calculation_engine": {
    "bmi": {
      "formula": "poids / (taille^2)",
      "source_fields": ["C1T04E01", "C1T04E02"],
      "output_field": "C1T04E03",
      "rounding": 1,
      "unit": "kg/m²"
    },
    "classification": {
      "underweight": {
        "condition": "bmi < 18.5",
        "output": "C1T04E04",
        "color": "#FF9800"
      },
      "normal": {
        "condition": "bmi >= 18.5 && bmi <= 24.9",
        "output": "C1T04E05",
        "color": "#4CAF50"
      },
      "overweight": {
        "condition": "bmi >= 25.0 && bmi <= 29.9",
        "output": "C1T04E06",
        "color": "#FF9800"
      },
      "obesity_class1": {
        "condition": "bmi >= 30.0 && bmi <= 34.9",
        "output": "C1T04E07",
        "color": "#F44336"
      },
      "obesity_class2": {
        "condition": "bmi >= 35.0 && bmi <= 39.9",
        "output": "C1T04E08",
        "color": "#F44336"
      },
      "obesity_class3": {
        "condition": "bmi >= 40.0",
        "output": "C1T04E09",
        "color": "#9C27B0"
      }
    }
  },
  "ui_configuration": {
    "layout": "vertical",
    "spacing": "medium",
    "group_label": "Données anthropométriques",
    "instructions": "Entrez la taille et le poids pour calculer automatiquement l'IMC et sa classification"
  },
  "data_structure": {
    "anthropometric_data": {
      "height": "C1T04E01",
      "weight": "C1T04E02",
      "bmi": "C1T04E03",
      "bmi_classification": "C1T04E04-C1T04E09",
      "weight_condition": "C1T04E10"
    },
    "export_format": {
      "height": "Number with unit",
      "weight": "Number with unit",
      "bmi": "Number with unit (kg/m²)",
      "bmi_category": "String (classification)",
      "conditions": "Array of selected conditions"
    }
  },
  "clinical_notes": {
    "importance": "L'IMC est un indicateur important du risque de lésions de pression",
    "documentation": "Les données anthropométriques et la classification IMC seront documentées dans l'évaluation"
  },
  "accessibility": {
    "aria_label": "Données anthropométriques et calcul IMC",
    "aria_description": "Entrez la taille et le poids pour calculer l'IMC et sa classification",
    "keyboard_navigation": true,
    "screen_reader_support": true,
    "group_aria_label": "Données de taille, poids et IMC"
  }
}
