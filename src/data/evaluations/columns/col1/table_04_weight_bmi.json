{
  "id": "C1T04",
  "title": "Poids & IMC",
  "description": "Évaluation du poids et calcul automatique de l'IMC avec classification et conditions associées",
  "category": "anthropometric_data",
  "column": 1,
  "table": 4,
  "elements": [
    {
      "id": "C1T04E01",
      "type": "number",
      "label": "Taille",
      "required": true,
      "validation": {
        "min": 0.1,
        "max": 2.5,
        "step": 0.01,
        "unit": "m"
      },
      "unit_options": [
        {
          "unit": "m",
          "label": "Mètres",
          "min": 0.1,
          "max": 2.5,
          "step": 0.01
        },
        {
          "unit": "ft",
          "label": "Pieds/Pouces",
          "min": 0.1,
          "max": 8,
          "step": 0.1
        }
      ],
      "ui": {
        "component": "NumericInput",
        "placeholder": "1.75",
        "help": "Taille"
      }
    },
    {
      "id": "C1T04E02",
      "type": "number",
      "label": "Poids",
      "required": true,
      "validation": {
        "min": 0,
        "max": 400,
        "step": 0.1,
        "unit": "kg"
      },
      "unit_options": [
        {
          "unit": "kg",
          "label": "Kilogrammes",
          "min": 0,
          "max": 300,
          "step": 0.1
        },
        {
          "unit": "lb",
          "label": "Livres",
          "min": 0,
          "max": 660,
          "step": 0.1
        }
      ],
      "ui": {
        "component": "NumericInput",
        "placeholder": "70.5",
        "help": "Poids"
      }
    },
    {
      "id": "C1T04E03",
      "type": "calculated",
      "label": "IMC calculé",
      "description": "Indice de masse corporelle calculé automatiquement",
      "required": false,
      "formula": "poids / (taille^2)",
      "validation": {
        "min": 10,
        "max": 60,
        "step": 0.1,
        "unit": "kg/m²"
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "{value} kg/m²",
        "help": "IMC calculé automatiquement"
      }
    },
    {
      "id": "C1T04E04",
      "type": "calculated",
      "label": "Poids insuffisant",
      "description": "IMC < 18,5",
      "required": false,
      "bmi_category": "underweight",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "lt",
          "value": 18.5
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC < 18,5",
        "color": "#FF9800",
        "help": "Classification automatique"
      }
    },
    {
      "id": "C1T04E05",
      "type": "calculated",
      "label": "Poids normal",
      "description": "IMC 18,5 – 24,9",
      "required": false,
      "bmi_category": "normal",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 18.5
        },
        "and": {
          "var": "C1T04E03",
          "operator": "lte",
          "value": 24.9
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC 18,5 – 24,9",
        "color": "#4CAF50",
        "help": "Classification automatique"
      }
    },
    {
      "id": "C1T04E06",
      "type": "calculated",
      "label": "Excès de poids",
      "description": "IMC 25,0 – 29,9",
      "required": false,
      "bmi_category": "overweight",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 25
        },
        "and": {
          "var": "C1T04E03",
          "operator": "lte",
          "value": 29.9
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC 25,0 – 29,9",
        "color": "#FF9800",
        "help": "Classification automatique"
      }
    },
    {
      "id": "C1T04E07",
      "type": "calculated",
      "label": "Obésité, classe I",
      "description": "IMC 30,0 – 34,9",
      "required": false,
      "bmi_category": "obesity_class1",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 30
        },
        "and": {
          "var": "C1T04E03",
          "operator": "lte",
          "value": 34.9
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC 30,0 – 34,9",
        "color": "#F44336",
        "help": "Classification automatique"
      }
    },
    {
      "id": "C1T04E08",
      "type": "calculated",
      "label": "Obésité, classe II",
      "description": "IMC 35,0 – 39,9",
      "required": false,
      "bmi_category": "obesity_class2",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 35
        },
        "and": {
          "var": "C1T04E03",
          "operator": "lte",
          "value": 39.9
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC 35,0 – 39,9",
        "color": "#F44336",
        "help": "Classification automatique"
      }
    },
    {
      "id": "C1T04E09",
      "type": "calculated",
      "label": "Obésité, classe III",
      "description": "IMC ≥ 40,0",
      "required": false,
      "bmi_category": "obesity_class3",
      "condition": {
        "comparison": {
          "var": "C1T04E03",
          "operator": "gte",
          "value": 40
        }
      },
      "ui": {
        "component": "ResultBadge",
        "display_format": "IMC ≥ 40,0",
        "color": "#9C27B0",
        "help": "Classification automatique"
      }
    },
    {
      "id": "C1T04E10",
      "type": "single_choice",
      "label": "Condition de poids",
      "required": false,
      "options": [
        
        {
          "value": "obesity",
          "label": "Obésité"
        },
        {
          "value": "cachexia",
          "label": "Cachexie"
        }
      ],
      "ui": {
        "component": "RadioGroup",
        "help": "Condition de poids"
      }
    }
  ],
  "validation_rules": {
    "required_fields": [
      "C1T04E01",
      "C1T04E02"
    ],
    "numeric_validation": {
      "taille": {
        "min": 0.5,
        "max": 2.5,
        "unit": "m"
      },
      "poids": {
        "min": 10,
        "max": 300,
        "unit": "kg"
      }
    },
    "bmi_calculation": {
      "formula": "poids / (taille^2)",
      "rounding": 1,
      "unit": "kg/m²"
    },
    "conditional_selection": {
      "C1T04E10": {
        "type": "single_choice",
        "required": false,
        "mutually_exclusive": true,
        "options": [
          "none",
          "obesity",
          "cachexia"
        ]
      }
    }
  },
  "calculation_engine": {
    "bmi": {
      "formula": "poids / (taille^2)",
      "source_fields": [
        "C1T04E01",
        "C1T04E02"
      ],
      "output_field": "C1T04E03",
      "rounding": 1,
      "unit": "kg/m²"
    },
    "classification": {
      "underweight": {
        "condition": "bmi < 18.5",
        "output": "C1T04E04",
        "color": "#FF9800"
      },
      "normal": {
        "condition": "bmi >= 18.5 && bmi <= 24.9",
        "output": "C1T04E05",
        "color": "#4CAF50"
      },
      "overweight": {
        "condition": "bmi >= 25.0 && bmi <= 29.9",
        "output": "C1T04E06",
        "color": "#FF9800"
      },
      "obesity_class1": {
        "condition": "bmi >= 30.0 && bmi <= 34.9",
        "output": "C1T04E07",
        "color": "#F44336"
      },
      "obesity_class2": {
        "condition": "bmi >= 35.0 && bmi <= 39.9",
        "output": "C1T04E08",
        "color": "#F44336"
      },
      "obesity_class3": {
        "condition": "bmi >= 40.0",
        "output": "C1T04E09",
        "color": "#9C27B0"
      }
    }
  },
  "ui_configuration": {
    "layout": "vertical",
    "spacing": "medium",
    "group_label": "Données anthropométriques",
    "instructions": "Taille et poids pour calculer l'IMC"
  }
}